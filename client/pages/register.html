<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>הרשמה - Babysitter Finder</title>
    
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Bootstrap Icons -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css" rel="stylesheet">
    <!-- Custom CSS -->
    <link href="../css/style.css?v=1000" rel="stylesheet">
    <script>
        console.log('PAGE LOADED AT:', new Date().toISOString());
        console.log('CACHE BUSTING VERSION: 1000');
    </script>
</head>
<body class="d-flex flex-column min-vh-100">
    <!-- Header -->
    <header class="navbar navbar-expand-lg navbar-dark bg-primary">
        <nav class="container">
            <a class="navbar-brand" href="#" id="homeLink">
                <i class="bi bi-heart-fill me-2"></i>
                Babysitter Finder
            </a>
            
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            
            <section class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav me-auto" id="navigationMenu">
                    <!-- Navigation will be populated by JavaScript -->
                </ul>
                
                <ul class="navbar-nav" id="authButtons">
                    <!-- Auth buttons will be populated by JavaScript -->
                </ul>
            </section>
        </nav>
    </header>

    <!-- Main Content -->
    <main class="container my-5 flex-grow-1">
        <section class="card mx-auto shadow-lg rounded-lg">
            <article class="card-body p-5">
                <header class="text-center mb-4">
                    <h3 class="card-title mb-3">הרשמה למערכת</h3>
                    <p class="text-muted">הצטרפו לקהילת Babysitter Finder</p>
                </header>
                <form id="registerForm">
                    <section class="mb-3">
                        <label class="form-label"><i class="bi bi-person-badge me-2"></i>סוג משתמש</label>
                        <select class="form-select" id="userType" name="userType" required>
                            <option value="parent">👨‍👩‍👧‍👦 הורה</option>
                            <option value="babysitter">👶 ביביסיטר</option>
                        </select>
                    </section>
                    <section class="mb-3">
                        <label class="form-label"><i class="bi bi-person me-2"></i>שם פרטי</label>
                        <input type="text" class="form-control" name="firstName" required>
                    </section>
                    <section class="mb-3">
                        <label class="form-label"><i class="bi bi-person me-2"></i>שם משפחה</label>
                        <input type="text" class="form-control" name="lastName" required>
                    </section>
                    <section class="mb-3">
                        <label class="form-label"><i class="bi bi-envelope me-2"></i>אימייל</label>
                        <input type="email" class="form-control" name="email" required>
                    </section>
                    <section class="mb-3">
                        <label class="form-label"><i class="bi bi-lock me-2"></i>סיסמה</label>
                        <input type="password" class="form-control" name="password" required minlength="6">
                    </section>
                    <section class="mb-3">
                        <label class="form-label"><i class="bi bi-telephone me-2"></i>טלפון</label>
                        <input type="text" class="form-control" name="phone" required>
                    </section>
                    <section class="mb-3">
                        <label class="form-label"><i class="bi bi-geo-alt me-2"></i>עיר</label>
                        <input type="text" class="form-control" name="city" id="cityInput" required>
                        <button type="button" class="btn btn-outline-primary" id="detectLocationBtn" style="display: inline-block !important; margin-top: 10px !important; padding: 8px 16px !important; font-size: 14px !important; border: 1px solid #007bff !important; background-color: transparent !important; color: #007bff !important;">
                            <i class="bi bi-geo-alt me-1"></i>זיהוי אוטומטי
                        </button>
                        <small class="form-text text-muted">לחצו על הכפתור לצד כדי לזהות את העיר שלכם אוטומטית</small>
                    </section>
                    <!-- Babysitter fields -->
                    <section id="babysitterFields">
                        <hr class="my-4">
                        <h5 class="text-primary mb-3"><i class="bi bi-star me-2"></i>פרטי ביביסיטר</h5>
                        <section class="mb-3">
                            <label class="form-label"><i class="bi bi-award me-2"></i>ניסיון</label>
                            <select class="form-select" name="experience">
                                <option value="beginner">🌱 מתחילה</option>
                                <option value="intermediate">⭐ בינונית</option>
                                <option value="expert">🏆 מנוסה</option>
                            </select>
                        </section>
                        <section class="mb-3">
                            <label class="form-label"><i class="bi bi-currency-dollar me-2"></i>מחיר לשעה (₪)</label>
                            <input type="number" class="form-control" name="hourlyRate" min="20" max="200">
                        </section>
                        <section class="mb-3">
                            <label class="form-label"><i class="bi bi-chat-text me-2"></i>תיאור קצר</label>
                            <textarea class="form-control" name="description" maxlength="500" rows="3" placeholder="ספרו על עצמכם, הניסיון שלכם ומה אתם מציעים..."></textarea>
                        </section>
                        <section class="mb-3">
                            <label class="form-label"><i class="bi bi-check-circle me-2"></i>זמינות</label>
                            <select class="form-select" name="isAvailable">
                                <option value="true">✅ זמינה עכשיו</option>
                                <option value="false">❌ לא זמינה כרגע</option>
                            </select>
                        </section>
                    </section>
                    <section id="formMessage" class="mb-3 text-center"></section>
                    <button type="submit" class="btn btn-primary w-100 py-3 fs-2 fw-600">
                        <i class="bi bi-person-plus me-2"></i>הרשמה למערכת
                    </button>
                </form>
                <footer class="text-center mt-4 pt-3 border-top">
                    <p class="mb-0">יש לך כבר חשבון? <a href="login.html" class="text-primary fw-bold">התחברות</a></p>
                </footer>
            </article>
        </section>
    </main>
    
    <!-- Bootstrap JS -->
    <script src="../js/bootstrap.bundle.min.js"></script>
    <!-- Geolocation Service -->
    <script src="../js/utils/geolocation.js"></script>
    <!-- Custom JS -->
    <script src="../js/pages/register.js"></script>
</body>
</html> 